// Spin-the-Dial: dial rotation parity game on Z4.
type move = {0 .. 3}

macro even(x: int): bool =
    (x == 0 || x == 2 || x == 4 || x == 6);

join P1() $ 100 P2() $ 100;

yield P1(a: move) P2(b: move);

withdraw {
    P1 -> (even(P1.a + P2.b) ?  1 : -1);
    P2 -> (even(P1.a + P2.b) ? -1 :  1);
}
