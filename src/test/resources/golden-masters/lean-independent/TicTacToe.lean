/- Generated by Vegas Lean Encoder - Policy: INDEPENDENT -/

set_option autoImplicit false

/-- Hidden value with commitment semantics -/
structure Hidden (A : Type) where
  val : A

def Hidden.reveal {A : Type} (h : Hidden A) : A := h.val

/-- Game roles -/
inductive Role : Type where
  | O : Role
  | X : Role

/- Liveness Primitives -/
inductive Absence (r : Role) : Type where
  | timeout : Absence r

inductive Maybe (r : Role) (A : Type) : Type where
  | present : A → Maybe r A
  | absent : Absence r → Maybe r A

def Maybe.isPresent {r : Role} {A : Type} : Maybe r A → Prop
  | .present _ => True
  | .absent _ => False

def Maybe.getPresent {r : Role} {A : Type} (u : Maybe r A) (h : u.isPresent) : A :=
  match u with
  | .present a => a
  | .absent _ => False.elim h

/-- Extract value from wrapper, returning Option -/
def Maybe.getVal {r : Role} {A B : Type} (u : Maybe r A) (f : A → B) : Option B :=
  match u with
  | .present w => some (f w)
  | .absent _ => none

/-- Lift unary function over Option -/
def lift1 {A B : Type} (f : A → B) : Option A → Option B
  | some v => some (f v)
  | none => none

/-- Lift binary function over Option -/
def lift2 {A B C : Type} (f : A → B → C) : Option A → Option B → Option C
  | some vx, some vy => some (f vx vy)
  | _, _ => none

/- Domain Constraints -/
def domain_Enum_2 (z : Int) : Prop := z = 0 ∨ z = 1 ∨ z = 2 ∨ z = 3 ∨ z = 4 ∨ z = 5 ∨ z = 6 ∨ z = 7 ∨ z = 8
def domain_Enum_0 (z : Int) : Prop := z = 0 ∨ z = 1 ∨ z = 4
def domain_Enum_1 (z : Int) : Prop := z = 1 ∨ z = 3 ∨ z = 4 ∨ z = 5 ∨ z = 9

namespace GameProtocol

structure W0 : Type where

structure W1
    (w0 : Maybe Role.X (W0))
    : Type where

structure W2
    (w0 : Maybe Role.X (W0))
    (w1 : Maybe Role.O (W1 w0))
    : Type where
  c1_X : Int
  W2_guard_domain_c1_X : domain_Enum_0 c1_X

structure W3
    (w0 : Maybe Role.X (W0))
    (w1 : Maybe Role.O (W1 w0))
    (w2 : Maybe Role.X (W2 w0 w1))
    : Type where
  c1_O : Int
  W3_guard_domain_c1_O : domain_Enum_1 c1_O
  W3_guard_logic : (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (some c1_O)) = some true

structure W4
    (w0 : Maybe Role.X (W0))
    (w1 : Maybe Role.O (W1 w0))
    (w2 : Maybe Role.X (W2 w0 w1))
    (w3 : Maybe Role.O (W3 w0 w1 w2))
    : Type where
  c2_X : Int
  W4_guard_domain_c2_X : domain_Enum_2 c2_X
  W4_guard_logic : (lift2 (· && ·) (lift2 (· && ·) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w3.getVal (fun w => w.c1_O))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (some c2_X))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (some c2_X))) = some true

structure W5
    (w0 : Maybe Role.X (W0))
    (w1 : Maybe Role.O (W1 w0))
    (w2 : Maybe Role.X (W2 w0 w1))
    (w3 : Maybe Role.O (W3 w0 w1 w2))
    (w4 : Maybe Role.X (W4 w0 w1 w2 w3))
    : Type where
  c2_O : Int
  W5_guard_domain_c2_O : domain_Enum_2 c2_O
  W5_guard_logic : (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w3.getVal (fun w => w.c1_O))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w4.getVal (fun w => w.c2_X)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (some c2_O))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w4.getVal (fun w => w.c2_X)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (some c2_O))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (some c2_O))) = some true

structure W6
    (w0 : Maybe Role.X (W0))
    (w1 : Maybe Role.O (W1 w0))
    (w2 : Maybe Role.X (W2 w0 w1))
    (w3 : Maybe Role.O (W3 w0 w1 w2))
    (w4 : Maybe Role.X (W4 w0 w1 w2 w3))
    (w5 : Maybe Role.O (W5 w0 w1 w2 w3 w4))
    : Type where
  c3_X : Int
  W6_guard_domain_c3_X : domain_Enum_2 c3_X
  W6_guard_logic : (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w3.getVal (fun w => w.c1_O))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w4.getVal (fun w => w.c2_X)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w5.getVal (fun w => w.c2_O)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (some c3_X))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w4.getVal (fun w => w.c2_X)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w5.getVal (fun w => w.c2_O)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (some c3_X))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (w5.getVal (fun w => w.c2_O)))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (some c3_X))) (lift2 (fun x y => decide (x ≠ y)) (w5.getVal (fun w => w.c2_O)) (some c3_X))) = some true

structure W7
    (w0 : Maybe Role.X (W0))
    (w1 : Maybe Role.O (W1 w0))
    (w2 : Maybe Role.X (W2 w0 w1))
    (w3 : Maybe Role.O (W3 w0 w1 w2))
    (w4 : Maybe Role.X (W4 w0 w1 w2 w3))
    (w5 : Maybe Role.O (W5 w0 w1 w2 w3 w4))
    (w6 : Maybe Role.X (W6 w0 w1 w2 w3 w4 w5))
    : Type where
  c3_O : Int
  W7_guard_domain_c3_O : domain_Enum_2 c3_O
  W7_guard_logic : (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w3.getVal (fun w => w.c1_O))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w4.getVal (fun w => w.c2_X)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w5.getVal (fun w => w.c2_O)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w6.getVal (fun w => w.c3_X)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (some c3_O))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w4.getVal (fun w => w.c2_X)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w5.getVal (fun w => w.c2_O)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w6.getVal (fun w => w.c3_X)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (some c3_O))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (w5.getVal (fun w => w.c2_O)))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (w6.getVal (fun w => w.c3_X)))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (some c3_O))) (lift2 (fun x y => decide (x ≠ y)) (w5.getVal (fun w => w.c2_O)) (w6.getVal (fun w => w.c3_X)))) (lift2 (fun x y => decide (x ≠ y)) (w5.getVal (fun w => w.c2_O)) (some c3_O))) (lift2 (fun x y => decide (x ≠ y)) (w6.getVal (fun w => w.c3_X)) (some c3_O))) = some true

structure W8
    (w0 : Maybe Role.X (W0))
    (w1 : Maybe Role.O (W1 w0))
    (w2 : Maybe Role.X (W2 w0 w1))
    (w3 : Maybe Role.O (W3 w0 w1 w2))
    (w4 : Maybe Role.X (W4 w0 w1 w2 w3))
    (w5 : Maybe Role.O (W5 w0 w1 w2 w3 w4))
    (w6 : Maybe Role.X (W6 w0 w1 w2 w3 w4 w5))
    (w7 : Maybe Role.O (W7 w0 w1 w2 w3 w4 w5 w6))
    : Type where
  c4_X : Int
  W8_guard_domain_c4_X : domain_Enum_2 c4_X
  W8_guard_logic : (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w3.getVal (fun w => w.c1_O))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w4.getVal (fun w => w.c2_X)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w5.getVal (fun w => w.c2_O)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w6.getVal (fun w => w.c3_X)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w7.getVal (fun w => w.c3_O)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (some c4_X))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w4.getVal (fun w => w.c2_X)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w5.getVal (fun w => w.c2_O)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w6.getVal (fun w => w.c3_X)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w7.getVal (fun w => w.c3_O)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (some c4_X))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (w5.getVal (fun w => w.c2_O)))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (w6.getVal (fun w => w.c3_X)))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (w7.getVal (fun w => w.c3_O)))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (some c4_X))) (lift2 (fun x y => decide (x ≠ y)) (w5.getVal (fun w => w.c2_O)) (w6.getVal (fun w => w.c3_X)))) (lift2 (fun x y => decide (x ≠ y)) (w5.getVal (fun w => w.c2_O)) (w7.getVal (fun w => w.c3_O)))) (lift2 (fun x y => decide (x ≠ y)) (w5.getVal (fun w => w.c2_O)) (some c4_X))) (lift2 (fun x y => decide (x ≠ y)) (w6.getVal (fun w => w.c3_X)) (w7.getVal (fun w => w.c3_O)))) (lift2 (fun x y => decide (x ≠ y)) (w6.getVal (fun w => w.c3_X)) (some c4_X))) (lift2 (fun x y => decide (x ≠ y)) (w7.getVal (fun w => w.c3_O)) (some c4_X))) = some true

structure W9
    (w0 : Maybe Role.X (W0))
    (w1 : Maybe Role.O (W1 w0))
    (w2 : Maybe Role.X (W2 w0 w1))
    (w3 : Maybe Role.O (W3 w0 w1 w2))
    (w4 : Maybe Role.X (W4 w0 w1 w2 w3))
    (w5 : Maybe Role.O (W5 w0 w1 w2 w3 w4))
    (w6 : Maybe Role.X (W6 w0 w1 w2 w3 w4 w5))
    (w7 : Maybe Role.O (W7 w0 w1 w2 w3 w4 w5 w6))
    (w8 : Maybe Role.X (W8 w0 w1 w2 w3 w4 w5 w6 w7))
    : Type where
  c4_O : Int
  W9_guard_domain_c4_O : domain_Enum_2 c4_O
  W9_guard_logic : (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (· && ·) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w3.getVal (fun w => w.c1_O))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w4.getVal (fun w => w.c2_X)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w5.getVal (fun w => w.c2_O)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w6.getVal (fun w => w.c3_X)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w7.getVal (fun w => w.c3_O)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (w8.getVal (fun w => w.c4_X)))) (lift2 (fun x y => decide (x ≠ y)) (w2.getVal (fun w => w.c1_X)) (some c4_O))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w4.getVal (fun w => w.c2_X)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w5.getVal (fun w => w.c2_O)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w6.getVal (fun w => w.c3_X)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w7.getVal (fun w => w.c3_O)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (w8.getVal (fun w => w.c4_X)))) (lift2 (fun x y => decide (x ≠ y)) (w3.getVal (fun w => w.c1_O)) (some c4_O))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (w5.getVal (fun w => w.c2_O)))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (w6.getVal (fun w => w.c3_X)))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (w7.getVal (fun w => w.c3_O)))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (w8.getVal (fun w => w.c4_X)))) (lift2 (fun x y => decide (x ≠ y)) (w4.getVal (fun w => w.c2_X)) (some c4_O))) (lift2 (fun x y => decide (x ≠ y)) (w5.getVal (fun w => w.c2_O)) (w6.getVal (fun w => w.c3_X)))) (lift2 (fun x y => decide (x ≠ y)) (w5.getVal (fun w => w.c2_O)) (w7.getVal (fun w => w.c3_O)))) (lift2 (fun x y => decide (x ≠ y)) (w5.getVal (fun w => w.c2_O)) (w8.getVal (fun w => w.c4_X)))) (lift2 (fun x y => decide (x ≠ y)) (w5.getVal (fun w => w.c2_O)) (some c4_O))) (lift2 (fun x y => decide (x ≠ y)) (w6.getVal (fun w => w.c3_X)) (w7.getVal (fun w => w.c3_O)))) (lift2 (fun x y => decide (x ≠ y)) (w6.getVal (fun w => w.c3_X)) (w8.getVal (fun w => w.c4_X)))) (lift2 (fun x y => decide (x ≠ y)) (w6.getVal (fun w => w.c3_X)) (some c4_O))) (lift2 (fun x y => decide (x ≠ y)) (w7.getVal (fun w => w.c3_O)) (w8.getVal (fun w => w.c4_X)))) (lift2 (fun x y => decide (x ≠ y)) (w7.getVal (fun w => w.c3_O)) (some c4_O))) (lift2 (fun x y => decide (x ≠ y)) (w8.getVal (fun w => w.c4_X)) (some c4_O))) = some true

structure EventDag : Type where
  event0 : Maybe Role.X (W0)
  event1 : Maybe Role.O (W1 event0)
  event2 : Maybe Role.X (W2 event0 event1)
  event3 : Maybe Role.O (W3 event0 event1 event2)
  event4 : Maybe Role.X (W4 event0 event1 event2 event3)
  event5 : Maybe Role.O (W5 event0 event1 event2 event3 event4)
  event6 : Maybe Role.X (W6 event0 event1 event2 event3 event4 event5)
  event7 : Maybe Role.O (W7 event0 event1 event2 event3 event4 event5 event6)
  event8 : Maybe Role.X (W8 event0 event1 event2 event3 event4 event5 event6 event7)
  event9 : Maybe Role.O (W9 event0 event1 event2 event3 event4 event5 event6 event7 event8)

end GameProtocol
